# КОНСТРУКТОР ОБЪЕКТОВ ТИПА РОБОТ

Каждый объект типа `Robot` предназначен для имитации управления Роботом, способным перемещаться по клетчатому полю и выполнять еще некоторые действия в зависимости от обстановки на поле.

Обстановка на поле определяется 
- наличием или отсутствием ограничивающей поле прямоугольной рамки (поле может быть ограниченным или неограниченным)
- наличием или отсутствием внутренних (межклеточных) перегородок
- наличием или отсутствием маркеров в клетках поля
- положением робота на поле. 

При этом, действия, которые может совершать Робот, определяются его [командным интерфейсом](api.md)

Внутренние данные, соответствующие обстановке на поле, формируется при вызове конструктора Robot. На эти данные должна быть получена ссылка, возвращаемая конструктором Robot при его вызове. Возможны следующие варианты вызова конструктора.

1. `r=Robot()`
2. `r=Robot(<число_строк_клеток_поля>,<число_столбцов_клеток_поля>)`
3. `r=Robot(<имя_файла_с_oбстановкой>)`
4. `r=Robot(...; animate=true)`

В первом случае создаётся ограниченное рамкой поле 11x12 без внутренних перегородок и маркеров в клетках, с начальным положением робота в юго-восточном (нижнем левом) углу.

Во втором — поле будет иметь размеры, передваемые конструктору через соответствующие параметры.

В третьем — обстановка на поле будет соответствовать данным, загруженным из соответствующего файла; рекомендуется для таких файлов использовать расширение `.sit` (от слова situation).

Во всех трёх случаях создается объект типа `Robot`с данными начальной обстановки, ссылка на котрый записывается в переменную `r`  (имя переменной, разумеется, может быть и любым другим). При выполнении команд Робота эта внутренняя структура данных может изменяться. Но визуализации обстановки на поле, ни в началный момент, ни в последующие, при этом ещё не будет.

Для просмотра текущей обстановки следует пользоваться функцией `show(r)`. В результате её выполнения будет открыто графическое окно с текущей обстановкой. При необходимости во время просмотра редактировать текущую обстановку с помощью мыши, вместо функции `show` следует использовать функциию `show!`.

При этом сохранить текущую обстановку в файле можно вызовом функции `save(r, <имя_файла>)`.

Обстановку, сохраненную в файле можно просмотреть и не создавая объета типа Robot, вызвав для этого функцию `show(<имя_файла_обстановкой>)`.

Однако визуализировать обстановку возможно и одновременно с созданием объекта типа `Robot`. Для этого в функции Robot кроме "позиционных параметров" предусмотрен также один "именованный параметр" - `animate`, который по умолчанию имеет значение `false`. Если же этому параметру дать значение `true`:

```julia
    r=Robot(...; animate=true)
```
то сразу же дополнительно будет открыто графическое окно с обстановкой на поле (которую, при необходимости, можно будет редактироваь мышью). И обсстановка, отображаемая в этом окне, будет автоматически изменятся при выполнении роботом соответствующих действий, точнее говоря, будет иметь место анимация перемещенй робота.

Вместо многоточия должны быть указаны фактические параметры (или они могут отсутствовать) в соответствии с первыми 3-мя вариантами использования функции `Robot`. 

Если используется режим анимации (`animate = true`), то функции `show` и `show!` использовать будет уже нельзя (приведёт к ошибке времени выполнения).

Режим анимации, однако, приводит к дополнительным временным задержкам, не желательным, может быть, при ыполненнии Роботом объёмных действий.

REPL Julia имеет встроенную систему помощи, с помощь которой можно получить справку о любой функции из импортированных в данный момент модулей (импортирование модулей осуществляется с помощщью оператора `usung`).

Для перехода в режим помощи следует набрать:
```julia
    julia> ?
```
В результате произойдет смена внешнего вида пригдашения REPL:
```julia
    help?>
```

Остается набрать имя интересующей функции и нажать `Enter`.

В результате будет выведена исчерпывающая информация о назначении функции и способов ее использования (если, конечно, разработчик функции об этом заранее позаботился).
